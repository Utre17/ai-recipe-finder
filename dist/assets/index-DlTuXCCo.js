import{j as e,u as Fe,O as Oe,Q as Be,a as ze}from"./api-C8vC9EAg.js";import{a as _e,r as c,R as Se}from"./react-DnQQq7lD.js";import{S as Ge,X as L,F as Ue,A,m as p,H,C as z,U as Z,D as Ce,a as Ie,b as Ke,c as ee,d as R,L as B,P as We,G as Je,e as E,f as Ye,g as qe,h as V,B as Me,i as Pe,j as He,k as Ve,T as ne,l as Qe,n as Xe,o as Ze,R as Q,p as es,q as xe,I as ss,r as ts}from"./ui-Dnl5ILWB.js";import{u as as,a as rs,b as is,c as he,D as ns,d as ls,e as os,s as cs,K as ds,P as ms}from"./dnd-DdVwmtlL.js";import{s as xs,a as le,f as D,i as hs,b as ps,d as gs}from"./utils-DbeeY_R7.js";import{R as oe,P as us,a as ys,C as fs,T as ce,B as bs,b as pe,X as ge,Y as ue,c as ye,L as js,d as fe}from"./charts-CyjR7tow.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function r(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(t){if(t.ep)return;t.ep=!0;const o=r(t);fetch(t.href,o)}})();var de={},be=_e;de.createRoot=be.createRoot,de.hydrateRoot=be.hydrateRoot;const vs=({onSearch:s,onToggleFilters:a,showFilters:r})=>{const[i,t]=c.useState(""),o=l=>{l.preventDefault(),s({query:i})},n=()=>{t(""),s({query:""})};return e.jsx("div",{className:"w-full",children:e.jsx("form",{onSubmit:o,className:"relative",children:e.jsxs("div",{className:"relative flex items-center",children:[e.jsx("div",{className:"absolute left-4 z-10",children:e.jsx(Ge,{className:"w-5 h-5 text-gray-400"})}),e.jsx("input",{type:"text",value:i,onChange:l=>t(l.target.value),placeholder:"Search for recipes by ingredients or name...",className:"w-full pl-12 pr-24 py-4 rounded-2xl bg-white/80 backdrop-blur-md border border-white/20 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none text-lg transition-all shadow-lg"}),e.jsxs("div",{className:"absolute right-2 flex items-center gap-2",children:[i&&e.jsx("button",{type:"button",onClick:n,className:"p-2 rounded-xl hover:bg-gray-100 transition-colors",children:e.jsx(L,{className:"w-5 h-5 text-gray-400"})}),e.jsx("button",{type:"button",onClick:a,className:`p-2 rounded-xl transition-colors ${r?"bg-primary text-white":"hover:bg-gray-100 text-gray-400"}`,children:e.jsx(Ue,{className:"w-5 h-5"})}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-primary to-purple-600 text-white rounded-xl hover:shadow-lg transition-all font-medium",children:"Search"})]})]})})})},Ns=({isOpen:s,filters:a,onFiltersChange:r})=>{const i=(t,o)=>{r({...a,[t]:o===""?void 0:o})};return e.jsx(A,{children:s&&e.jsx(p.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 overflow-hidden",children:e.jsxs("div",{className:"bg-white/80 backdrop-blur-md rounded-2xl border border-white/20 p-6 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 gradient-text",children:"Advanced Filters"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Diet"}),e.jsxs("select",{value:a.diet||"",onChange:t=>i("diet",t.target.value),className:"w-full px-3 py-2 rounded-xl border border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none",children:[e.jsx("option",{value:"",children:"Any Diet"}),e.jsx("option",{value:"vegetarian",children:"Vegetarian"}),e.jsx("option",{value:"vegan",children:"Vegan"}),e.jsx("option",{value:"gluten free",children:"Gluten Free"}),e.jsx("option",{value:"ketogenic",children:"Keto"}),e.jsx("option",{value:"paleo",children:"Paleo"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cuisine"}),e.jsxs("select",{value:a.cuisine||"",onChange:t=>i("cuisine",t.target.value),className:"w-full px-3 py-2 rounded-xl border border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none",children:[e.jsx("option",{value:"",children:"Any Cuisine"}),e.jsx("option",{value:"american",children:"American"}),e.jsx("option",{value:"italian",children:"Italian"}),e.jsx("option",{value:"mexican",children:"Mexican"}),e.jsx("option",{value:"chinese",children:"Chinese"}),e.jsx("option",{value:"indian",children:"Indian"}),e.jsx("option",{value:"mediterranean",children:"Mediterranean"}),e.jsx("option",{value:"thai",children:"Thai"}),e.jsx("option",{value:"french",children:"French"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meal Type"}),e.jsxs("select",{value:a.type||"",onChange:t=>i("type",t.target.value),className:"w-full px-3 py-2 rounded-xl border border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none",children:[e.jsx("option",{value:"",children:"Any Type"}),e.jsx("option",{value:"breakfast",children:"Breakfast"}),e.jsx("option",{value:"lunch",children:"Lunch"}),e.jsx("option",{value:"dinner",children:"Dinner"}),e.jsx("option",{value:"dessert",children:"Dessert"}),e.jsx("option",{value:"snack",children:"Snack"}),e.jsx("option",{value:"appetizer",children:"Appetizer"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Cooking Time (min)"}),e.jsx("input",{type:"number",value:a.maxReadyTime||"",onChange:t=>i("maxReadyTime",t.target.value?parseInt(t.target.value):void 0),placeholder:"e.g. 30",className:"w-full px-3 py-2 rounded-xl border border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none"})]})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Intolerances"}),e.jsxs("select",{value:a.intolerances||"",onChange:t=>i("intolerances",t.target.value),className:"w-full px-3 py-2 rounded-xl border border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none",children:[e.jsx("option",{value:"",children:"No Restrictions"}),e.jsx("option",{value:"dairy",children:"Dairy Free"}),e.jsx("option",{value:"egg",children:"Egg Free"}),e.jsx("option",{value:"gluten",children:"Gluten Free"}),e.jsx("option",{value:"peanut",children:"Peanut Free"}),e.jsx("option",{value:"sesame",children:"Sesame Free"}),e.jsx("option",{value:"seafood",children:"Seafood Free"}),e.jsx("option",{value:"shellfish",children:"Shellfish Free"}),e.jsx("option",{value:"soy",children:"Soy Free"}),e.jsx("option",{value:"tree nut",children:"Tree Nut Free"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),e.jsxs("select",{value:a.sort||"",onChange:t=>i("sort",t.target.value),className:"w-full px-3 py-2 rounded-xl border border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none",children:[e.jsx("option",{value:"",children:"Relevance"}),e.jsx("option",{value:"popularity",children:"Popularity"}),e.jsx("option",{value:"healthiness",children:"Healthiness"}),e.jsx("option",{value:"price",children:"Price"}),e.jsx("option",{value:"time",children:"Cooking Time"}),e.jsx("option",{value:"random",children:"Random"})]})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:()=>r({query:a.query}),className:"px-6 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Clear Filters"})})]})})})},me="recipe-finder-favorites",se="recipe-finder-meal-plans",te="recipe-finder-shopping-lists",U=()=>{try{const s=localStorage.getItem(me);return s?JSON.parse(s):[]}catch(s){return console.error("Error loading favorites:",s),[]}},Re=s=>{try{const a=U();if(!a.some(i=>i.id===s.id)){const i=[...a,s];localStorage.setItem(me,JSON.stringify(i))}}catch(a){console.error("Error adding to favorites:",a)}},Ae=s=>{try{const r=U().filter(i=>i.id!==s);localStorage.setItem(me,JSON.stringify(r))}catch(a){console.error("Error removing from favorites:",a)}},Le=s=>{try{return U().some(r=>r.id===s)}catch(a){return console.error("Error checking favorite status:",a),!1}},W=()=>{try{const s=localStorage.getItem(se);return s?JSON.parse(s):[]}catch(s){return console.error("Error loading meal plans:",s),[]}},ws=s=>{try{const a=W(),r={...s,id:Date.now().toString()+Math.random().toString(36).substr(2,9)},i=[...a,r];return localStorage.setItem(se,JSON.stringify(i)),r.id}catch(a){return console.error("Error adding meal plan:",a),""}},je=(s,a)=>{try{const i=W().map(t=>t.id===s?{...t,...a}:t);localStorage.setItem(se,JSON.stringify(i))}catch(r){console.error("Error updating meal plan:",r)}},ks=s=>{try{const r=W().filter(i=>i.id!==s);localStorage.setItem(se,JSON.stringify(r))}catch(a){console.error("Error removing meal plan:",a)}},Ss=(s,a)=>{try{return W().filter(i=>i.date>=s&&i.date<=a)}catch(r){return console.error("Error filtering meal plans:",r),[]}},K=()=>{try{const s=localStorage.getItem(te);return s?JSON.parse(s):[]}catch(s){return console.error("Error loading shopping lists:",s),[]}},Cs=(s,a)=>{try{const r=new Map;a.forEach(l=>{l.recipe.extendedIngredients.forEach(m=>{const j=m.nameClean||m.name,g=r.get(j);g?(g.amount+=m.amount*l.servings,g.recipes.includes(l.recipe.title)||g.recipes.push(l.recipe.title)):r.set(j,{amount:m.amount*l.servings,unit:m.unit,recipes:[l.recipe.title],aisle:m.aisle})})});const i=Array.from(r.entries()).map(([l,m])=>({id:Date.now().toString()+Math.random().toString(36).substr(2,9),ingredient:l,amount:Math.round(m.amount*100)/100,unit:m.unit,checked:!1,recipes:m.recipes,aisle:m.aisle})),t={id:Date.now().toString()+Math.random().toString(36).substr(2,9),name:s,dateCreated:new Date().toISOString(),items:i,totalItems:i.length,checkedItems:0},n=[...K(),t];return localStorage.setItem(te,JSON.stringify(n)),t.id}catch(r){return console.error("Error creating shopping list:",r),""}},Is=(s,a)=>{try{const i=K().map(t=>t.id===s?{...t,...a}:t);localStorage.setItem(te,JSON.stringify(i))}catch(r){console.error("Error updating shopping list:",r)}},Ms=(s,a)=>{try{const i=K().map(t=>{if(t.id===s){const o=t.items.map(l=>l.id===a?{...l,checked:!l.checked}:l),n=o.filter(l=>l.checked).length;return{...t,items:o,checkedItems:n}}return t});localStorage.setItem(te,JSON.stringify(i))}catch(r){console.error("Error toggling shopping list item:",r)}},Ee=({recipe:s,onSelect:a})=>{const[r,i]=c.useState(Le(s.id)),t=n=>{n.stopPropagation(),r?Ae(s.id):Re(s),i(!r)},o=n=>`$${(n/100).toFixed(2)}`;return e.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-8},transition:{duration:.3},className:"bg-white rounded-3xl overflow-hidden shadow-lg hover:shadow-xl transition-all cursor-pointer card-hover",onClick:()=>a(s),children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:s.image,alt:s.title,className:"w-full h-48 object-cover"}),e.jsx("button",{onClick:t,className:`absolute top-4 right-4 p-2 rounded-full backdrop-blur-md transition-all ${r?"bg-red-500 text-white shadow-lg":"bg-white/80 text-gray-600 hover:bg-white hover:text-red-500"}`,children:e.jsx(H,{className:`w-5 h-5 ${r?"fill-current":""}`})}),s.diets.length>0&&e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx("span",{className:"bg-green-500 text-white text-xs px-2 py-1 rounded-full font-medium",children:s.diets[0]})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2 line-clamp-2",children:s.title}),e.jsxs("div",{className:"flex items-center gap-4 mb-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(z,{className:"w-4 h-4"}),e.jsxs("span",{children:[s.readyInMinutes," min"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Z,{className:"w-4 h-4"}),e.jsxs("span",{children:[s.servings," servings"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ce,{className:"w-4 h-4"}),e.jsx("span",{children:o(s.pricePerServing)})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ie,{className:"w-4 h-4 text-yellow-500 fill-current"}),e.jsx("span",{className:"text-sm font-medium",children:(s.spoonacularScore/20).toFixed(1)})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Health Score: ",s.healthScore]})]})]}),s.cuisines.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:s.cuisines.slice(0,2).map((n,l)=>e.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full",children:n},l))}),e.jsx("p",{className:"text-gray-600 text-sm line-clamp-3",dangerouslySetInnerHTML:{__html:s.summary.replace(/<[^>]*>/g,"")}})]})]})},Ps=({type:s="card",count:a=12})=>{const r=()=>e.jsxs("div",{className:"bg-white rounded-3xl overflow-hidden shadow-lg",children:[e.jsx("div",{className:"h-48 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 animate-pulse"}),e.jsxs("div",{className:"p-6 space-y-3",children:[e.jsx("div",{className:"h-6 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 rounded-xl animate-pulse"}),e.jsx("div",{className:"h-4 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 rounded-lg animate-pulse w-3/4"}),e.jsxs("div",{className:"flex gap-4 mt-4",children:[e.jsx("div",{className:"h-4 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 rounded animate-pulse w-16"}),e.jsx("div",{className:"h-4 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 rounded animate-pulse w-20"})]}),e.jsx("div",{className:"h-12 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 rounded-lg animate-pulse mt-4"})]})]}),i=()=>e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:e.jsx("div",{className:"space-y-4",children:Array.from({length:6}).map((l,m)=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 rounded-xl animate-pulse"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-3 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 rounded animate-pulse w-2/3"})]}),e.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 rounded-full animate-pulse"})]},m))})}),t=()=>e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg",children:[e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"h-8 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 rounded-xl animate-pulse w-64"})}),e.jsx("div",{className:"grid grid-cols-8 gap-4",children:Array.from({length:32}).map((l,m)=>e.jsx("div",{className:"h-32 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 rounded-2xl animate-pulse"},m))})]}),o=()=>e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"h-6 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 rounded animate-pulse w-48"})}),e.jsx("div",{className:"h-64 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 rounded-xl animate-pulse"})]}),n=()=>{switch(s){case"card":return e.jsx(p.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:Array.from({length:a}).map((l,m)=>e.jsx(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:m*.05},children:r()},m))});case"list":return e.jsx(p.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:i()});case"calendar":return e.jsx(p.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:t()});case"chart":return e.jsx(p.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Array.from({length:4}).map((l,m)=>e.jsx(p.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:m*.1},children:o()},m))});default:return null}};return e.jsx(e.Fragment,{children:n()})},X="37432ff1ba2b4014bbff9473ac02e389",Te="https://api.spoonacular.com/recipes";const Rs=async s=>{try{const a=new URLSearchParams({apiKey:X,query:s.query,number:"12",addRecipeInformation:"true",fillIngredients:"true"});s.diet&&a.append("diet",s.diet),s.intolerances&&a.append("intolerances",s.intolerances),s.cuisine&&a.append("cuisine",s.cuisine),s.type&&a.append("type",s.type),s.maxReadyTime&&a.append("maxReadyTime",s.maxReadyTime.toString()),s.sort&&a.append("sort",s.sort);const r=await fetch(`${Te}/complexSearch?${a}`);if(!r.ok)throw new Error(`API Error: ${r.status}`);return await r.json()}catch(a){throw console.error("Error searching recipes:",a),a}};const As=async(s=12)=>{try{const a=await fetch(`${Te}/random?apiKey=${X}&number=${s}&addRecipeInformation=true`);if(!a.ok)throw new Error(`API Error: ${a.status}`);return(await a.json()).recipes||[]}catch(a){throw console.error("Error fetching random recipes:",a),a}},Ls=({filters:s,onRecipeSelect:a,onRecipeResults:r})=>{const{data:i,isLoading:t,error:o}=Fe({queryKey:["recipes",s],queryFn:async()=>{if(!s.query.trim()&&!s.diet&&!s.cuisine){const l=await As(12),m={results:l,offset:0,number:l.length,totalResults:l.length};return r?.(l),m}const n=await Rs(s);return r?.(n.results),n},enabled:!0});return t?e.jsx(Ps,{type:"card",count:12}):o?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[e.jsx(Ke,{className:"w-12 h-12 text-red-500 mb-4"}),e.jsx("p",{className:"text-lg text-gray-600 mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-gray-500",children:"Please try again later"})]}):!i||i.results.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[e.jsx(ee,{className:"w-12 h-12 text-gray-400 mb-4"}),e.jsx("p",{className:"text-lg text-gray-600 mb-2",children:"No recipes found"}),e.jsx("p",{className:"text-gray-500",children:"Try adjusting your search terms or filters"})]}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:!s.query.trim()&&!s.diet&&!s.cuisine?"Featured Recipes":"Search Results"}),e.jsxs("span",{className:"text-gray-500",children:[i.totalResults," recipe",i.totalResults!==1?"s":""," found"]})]}),e.jsx(p.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:i.results.map((n,l)=>e.jsx(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:l*.1},children:e.jsx(Ee,{recipe:n,onSelect:a})},n.id))}),i.results.length<i.totalResults&&e.jsx("div",{className:"flex justify-center pt-8",children:e.jsx("button",{className:"px-6 py-3 bg-gradient-to-r from-primary to-purple-600 text-white rounded-2xl hover:shadow-lg transition-all font-medium",children:"Load More Recipes"})})]})},J="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",ae=new Oe({baseURL:"https://openrouter.ai/api/v1",apiKey:J,dangerouslyAllowBrowser:!0}),re="meta-llama/llama-3.2-3b-instruct:free",Es=async(s,a=3)=>{try{const r=`You are a professional chef AI assistant. Based on the user's preferences, suggest ${a} personalized recipes.

User Preferences:
- Favorite ingredients: ${s.favoriteIngredients.join(", ")||"None specified"}
- Dietary restrictions: ${s.dietaryRestrictions.join(", ")||"None"}
- Disliked ingredients: ${s.dislikedIngredients.join(", ")||"None"}
- Preferred cuisines: ${s.preferredCuisines.join(", ")||"Any"}
- Cooking skill: ${s.cookingSkillLevel}
- Time available: ${s.timeAvailable} minutes
- Recent meals (avoid similar): ${s.recentMeals.join(", ")||"None"}

Please respond with a JSON array of ${a} recipe objects, each with:
{
  "title": "Recipe Name",
  "description": "Brief appealing description",
  "ingredients": ["ingredient 1", "ingredient 2", ...],
  "instructions": ["step 1", "step 2", ...],
  "cookingTime": number_in_minutes,
  "difficulty": "easy|medium|hard",
  "cuisine": "cuisine_type",
  "dietaryTags": ["tag1", "tag2", ...]
}

Ensure recipes are diverse, match preferences, and avoid recent meals. Only return valid JSON.`,t=(await ae.chat.completions.create({model:re,messages:[{role:"user",content:r}],temperature:.8,max_tokens:2e3})).choices[0]?.message?.content;if(!t)throw new Error("No response from AI");const o=JSON.parse(t);return Array.isArray(o)?o:[o]}catch(r){return console.error("Error getting AI recommendations:",r),Fs(s,a)}},Ts=async(s,a=7)=>{try{const r=`You are a nutrition and meal planning expert. Create a ${a}-day meal plan for someone with these preferences:

- Dietary restrictions: ${s.dietaryRestrictions.join(", ")||"None"}
- Preferred cuisines: ${s.preferredCuisines.join(", ")||"Varied"}
- Cooking skill: ${s.cookingSkillLevel}
- Time per meal: ${s.timeAvailable} minutes max
- Favorite ingredients to include: ${s.favoriteIngredients.join(", ")||"Flexible"}
- Ingredients to avoid: ${s.dislikedIngredients.join(", ")||"None"}

Please provide:
1. A detailed meal plan with breakfast, lunch, dinner for ${a} days
2. An explanation of the nutritional balance and why this plan works

Format as JSON:
{
  "mealPlan": "Day 1:
Breakfast: ...
Lunch: ...
Dinner: ...

Day 2: ...",
  "explanation": "This meal plan provides balanced nutrition because..."
}`,t=(await ae.chat.completions.create({model:re,messages:[{role:"user",content:r}],temperature:.7,max_tokens:1500})).choices[0]?.message?.content;if(!t)throw new Error("No response from AI");return JSON.parse(t)}catch(r){return console.error("Error getting AI meal plan:",r),{mealPlan:`Sample 7-day meal plan:

Day 1:
Breakfast: Oatmeal with berries
Lunch: Caesar salad
Dinner: Grilled chicken with vegetables

Day 2:
Breakfast: Greek yogurt with granola
Lunch: Quinoa bowl
Dinner: Pasta with marinara sauce

... (continue for remaining days)`,explanation:"This meal plan provides balanced nutrition with a variety of proteins, carbohydrates, and vegetables."}}},$s=async(s,a)=>{try{const r=`You are a chef AI assistant. Modify this recipe to be ${a.join(", ")}:

Original Recipe:
Title: ${s.title}
Ingredients: ${s.extendedIngredients.map(o=>o.original).join(", ")}
Instructions: ${s.instructions||"See analyzedInstructions"}
Servings: ${s.servings}
Cooking Time: ${s.readyInMinutes} minutes

Please provide the modified recipe and explain what changes were made.

Format as JSON:
{
  "modifiedRecipe": "Modified Title

Ingredients:
- ingredient 1
- ingredient 2

Instructions:
1. Step 1
2. Step 2

Servings: X
Time: Y minutes",
  "changes": "Explanation of what was changed and why"
}`,t=(await ae.chat.completions.create({model:re,messages:[{role:"user",content:r}],temperature:.6,max_tokens:1200})).choices[0]?.message?.content;if(!t)throw new Error("No response from AI");return JSON.parse(t)}catch(r){return console.error("Error modifying recipe with AI:",r),{modifiedRecipe:`Modified ${s.title}

This is a placeholder for the modified recipe.`,changes:"AI modification service is currently unavailable."}}},Ds=async(s,a)=>{try{const r=`You are a smart shopping assistant. Optimize this shopping list for efficiency and ${a.budget||"medium"} budget:

Ingredients needed: ${s.join(", ")}
Budget preference: ${a.budget||"medium"}
Store type: ${a.storeType||"regular grocery store"}

Please provide:
1. An organized shopping list grouped by store sections
2. Money-saving tips and substitutions
3. Quantity recommendations for best value

Format as JSON:
{
  "optimizedList": "PRODUCE:
- item 1
- item 2

DAIRY:
- item 3

MEAT:
- item 4",
  "tips": ["tip 1", "tip 2", "tip 3"]
}`,t=(await ae.chat.completions.create({model:re,messages:[{role:"user",content:r}],temperature:.5,max_tokens:800})).choices[0]?.message?.content;if(!t)throw new Error("No response from AI");return JSON.parse(t)}catch(r){return console.error("Error optimizing shopping list:",r),{optimizedList:s.join(`
- `),tips:["Buy seasonal produce for better prices","Check for sales and coupons","Consider generic brands"]}}},Fs=(s,a)=>[{title:"Quick Vegetable Stir Fry",description:"A healthy and colorful vegetable stir fry perfect for any skill level",ingredients:["mixed vegetables","soy sauce","garlic","ginger","oil"],instructions:["Heat oil in pan","Add garlic and ginger","Add vegetables","Stir fry for 5-7 minutes","Add soy sauce"],cookingTime:15,difficulty:"easy",cuisine:"Asian",dietaryTags:["vegetarian","vegan","quick"]},{title:"Classic Pasta with Marinara",description:"Simple and delicious pasta dish that never goes out of style",ingredients:["pasta","marinara sauce","garlic","basil","parmesan cheese"],instructions:["Boil pasta","Heat sauce with garlic","Combine pasta and sauce","Garnish with basil and cheese"],cookingTime:20,difficulty:"easy",cuisine:"Italian",dietaryTags:["vegetarian"]},{title:"Grilled Chicken Salad",description:"Light and nutritious salad with perfectly grilled chicken",ingredients:["chicken breast","mixed greens","tomatoes","cucumber","olive oil","lemon"],instructions:["Season and grill chicken","Prepare salad ingredients","Make dressing","Combine and serve"],cookingTime:25,difficulty:"medium",cuisine:"Mediterranean",dietaryTags:["high-protein","low-carb"]}].slice(0,a),ve="ai-recipe-finder-preferences",Ne={favoriteIngredients:[],dietaryRestrictions:[],dislikedIngredients:[],preferredCuisines:[],cookingSkillLevel:"beginner",timeAvailable:30,recentMeals:[]},Y=()=>{const[s,a]=c.useState(Ne),[r,i]=c.useState([]),[t,o]=c.useState(!1);c.useEffect(()=>{try{const x=localStorage.getItem(ve);x&&a({...Ne,...JSON.parse(x)})}catch(x){console.error("Error loading preferences:",x)}},[]);const n=c.useCallback(x=>{const y={...s,...x};a(y);try{localStorage.setItem(ve,JSON.stringify(y))}catch(k){console.error("Error saving preferences:",k)}},[s]),l=c.useCallback(async(x=3)=>{o(!0);try{const y=await Es(s,x);return i(y),y}catch(y){return console.error("Error getting AI recommendations:",y),[]}finally{o(!1)}},[s]),m=c.useCallback(async(x=7)=>{o(!0);try{return await Ts(s,x)}catch(y){return console.error("Error getting AI meal plan:",y),{mealPlan:"Unable to generate meal plan at this time.",explanation:"Please try again later."}}finally{o(!1)}},[s]),j=c.useCallback(async(x,y)=>{o(!0);try{return await $s(x,y)}catch(k){return console.error("Error modifying recipe:",k),{modifiedRecipe:"Unable to modify recipe at this time.",changes:"Please try again later."}}finally{o(!1)}},[]),g=c.useCallback(async(x,y={})=>{o(!0);try{return await Ds(x,y)}catch(k){return console.error("Error optimizing shopping list:",k),{optimizedList:x.join(`
- `),tips:["Unable to optimize at this time."]}}finally{o(!1)}},[]),d=c.useCallback(x=>{const y=[...s.recentMeals];y.unshift(x),y.length>10&&y.pop(),n({recentMeals:y})},[s.recentMeals,n]);return{preferences:s,updatePreferences:n,aiRecommendations:r,isLoading:t,getRecommendations:l,getMealPlan:m,modifyRecipe:j,optimizeShoppingList:g,addToRecentMeals:d}},Os=({recipe:s,onClose:a})=>{const r=Le(s.id),[i,t]=c.useState(!1),[o,n]=c.useState(null),[l,m]=c.useState([]),{modifyRecipe:j,isLoading:g}=Y(),d=()=>{r?Ae(s.id):Re(s)},x=u=>`$${(u/100).toFixed(2)}`,y=async()=>{if(l.length===0)return;const u=await j(s,l);n(u)},k=["vegetarian","vegan","gluten-free","low-carb","high-protein","dairy-free","keto-friendly","low-sodium","heart-healthy","quick (30 min or less)"];return e.jsxs(A,{children:[e.jsx(p.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:a,children:e.jsxs(p.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-3xl max-w-4xl w-full max-h-[90vh] overflow-hidden",onClick:u=>u.stopPropagation(),children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:s.image,alt:s.title,className:"w-full h-64 object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),e.jsx("button",{onClick:a,className:"absolute top-4 right-4 p-2 bg-white/80 backdrop-blur-md rounded-full hover:bg-white transition-colors",children:e.jsx(L,{className:"w-6 h-6"})}),e.jsx("button",{onClick:d,className:`absolute top-4 left-4 p-2 backdrop-blur-md rounded-full transition-all ${r?"bg-red-500 text-white":"bg-white/80 text-gray-600 hover:bg-white hover:text-red-500"}`,children:e.jsx(H,{className:`w-6 h-6 ${r?"fill-current":""}`})}),e.jsx("button",{onClick:()=>t(!0),className:"absolute top-4 left-16 p-2 bg-purple-500/80 text-white backdrop-blur-md rounded-full hover:bg-purple-600/80 transition-all",title:"AI Modify Recipe",children:e.jsx(R,{className:"w-6 h-6"})}),e.jsxs("div",{className:"absolute bottom-4 left-4 right-4",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:s.title}),e.jsxs("div",{className:"flex items-center gap-4 text-white/90",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(z,{className:"w-5 h-5"}),e.jsxs("span",{children:[s.readyInMinutes," min"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Z,{className:"w-5 h-5"}),e.jsxs("span",{children:[s.servings," servings"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ie,{className:"w-5 h-5 text-yellow-400"}),e.jsx("span",{children:(s.spoonacularScore/20).toFixed(1)})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ce,{className:"w-5 h-5"}),e.jsx("span",{children:x(s.pricePerServing)})]})]})]})]}),e.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-16rem)]",children:[e.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[s.diets.map((u,C)=>e.jsx("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:u},C)),s.cuisines.map((u,C)=>e.jsx("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:u},C))]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 gradient-text",children:"About This Recipe"}),e.jsx("div",{className:"text-gray-600 leading-relaxed",dangerouslySetInnerHTML:{__html:s.summary}})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[e.jsx(ee,{className:"w-5 h-5 text-primary"}),"Ingredients"]}),e.jsx("div",{className:"space-y-3",children:s.extendedIngredients.map((u,C)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:u.original})]},C))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Instructions"}),e.jsx("div",{className:"space-y-4",children:s.analyzedInstructions[0]?.steps.map((u,C)=>e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-bold flex-shrink-0",children:u.number}),e.jsx("p",{className:"text-gray-700 pt-1",children:u.step})]},C))||e.jsx("div",{className:"text-gray-700 leading-relaxed",dangerouslySetInnerHTML:{__html:s.instructions}})})]})]}),s.nutrition&&e.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl",children:[e.jsx("h3",{className:"text-xl font-bold mb-4 gradient-text",children:"Nutrition Information"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:s.nutrition.nutrients.slice(0,8).map((u,C)=>e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"font-bold text-lg text-gray-800",children:[Math.round(u.amount),e.jsx("span",{className:"text-sm text-gray-600",children:u.unit})]}),e.jsx("div",{className:"text-sm text-gray-600",children:u.name})]},C))})]})]})]})}),e.jsx(A,{children:i&&e.jsx(p.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-60 flex items-center justify-center p-4",onClick:()=>t(!1),children:e.jsxs(p.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-3xl max-w-lg w-full max-h-[80vh] overflow-hidden",onClick:u=>u.stopPropagation(),children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(R,{className:"w-6 h-6"}),e.jsx("h3",{className:"text-xl font-bold",children:"AI Recipe Modifications"})]}),e.jsx("button",{onClick:()=>t(!1),className:"p-2 bg-white/20 hover:bg-white/30 rounded-full transition-colors",children:e.jsx(L,{className:"w-5 h-5"})})]})}),e.jsx("div",{className:"p-6 space-y-6",children:o?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-800 mb-3",children:"✨ Your Modified Recipe:"}),e.jsx("div",{className:"bg-gray-50 rounded-xl p-4 max-h-64 overflow-y-auto",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-700 text-sm",children:o.modifiedRecipe})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-800 mb-3",children:"📝 What Changed:"}),e.jsx("div",{className:"bg-blue-50 rounded-xl p-4",children:e.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:o.changes})})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{n(null),m([])},className:"flex-1 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-colors font-medium",children:"Try Different Modifications"}),e.jsx("button",{onClick:()=>t(!1),className:"flex-1 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl hover:shadow-lg transition-all font-medium",children:"Done"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-800 mb-3",children:"How would you like to modify this recipe?"}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Select the dietary preferences or restrictions you'd like AI to adapt this recipe for:"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:k.map(u=>e.jsxs("label",{className:"flex items-center gap-2 p-3 border border-gray-200 rounded-xl hover:border-purple-300 cursor-pointer transition-colors",children:[e.jsx("input",{type:"checkbox",checked:l.includes(u),onChange:C=>{C.target.checked?m([...l,u]):m(l.filter(P=>P!==u))},className:"text-purple-600 rounded focus:ring-purple-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 capitalize",children:u})]},u))})]}),e.jsx("button",{onClick:y,disabled:l.length===0||g,className:"w-full py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl hover:shadow-lg transition-all font-medium disabled:opacity-50",children:g?e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(B,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"AI is modifying your recipe..."})]}):e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(R,{className:"w-5 h-5"}),e.jsx("span",{children:"Modify Recipe with AI"})]})})]})})]})})})]})},Bs=()=>e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-r from-blue-400 to-cyan-400 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute top-40 left-1/2 transform -translate-x-1/2 w-80 h-80 bg-gradient-to-r from-indigo-400 to-purple-400 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-4000"})]}),zs=()=>{const[s,a]=c.useState(!1),[r,i]=c.useState([]),t=()=>{i(U()),a(!0)};return e.jsxs(e.Fragment,{children:[e.jsx("header",{className:"bg-white/80 backdrop-blur-md border-b border-white/20 sticky top-0 z-50",children:e.jsx("div",{className:"container mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center",children:e.jsx(ee,{className:"w-6 h-6 text-white"})}),e.jsx("span",{className:"text-xl font-bold gradient-text",children:"Recipe Finder"})]}),e.jsx("nav",{className:"flex items-center gap-6",children:e.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 rounded-2xl bg-white/50 hover:bg-white/70 transition-colors border border-white/20",children:[e.jsx(H,{className:"w-5 h-5 text-red-500"}),e.jsx("span",{className:"font-medium",children:"Favorites"}),e.jsx("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:U().length})]})})]})})}),e.jsx(A,{children:s&&e.jsx(p.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>a(!1),children:e.jsxs(p.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-3xl max-w-4xl w-full max-h-[80vh] overflow-hidden",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold gradient-text",children:"Your Favorite Recipes"}),e.jsx("button",{onClick:()=>a(!1),className:"p-2 rounded-full hover:bg-gray-100 transition-colors",children:e.jsx(L,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:r.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(H,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:"No favorite recipes yet"}),e.jsx("p",{className:"text-gray-400",children:"Start exploring and add some recipes to your favorites!"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(o=>e.jsx(Ee,{recipe:o,onSelect:()=>{a(!1)}},o.id))})})]})})})]})},$e=()=>{const[s,a]=c.useState([]),[r,i]=c.useState(!0),t=c.useCallback(()=>{i(!0);try{const d=W();a(d)}catch(d){console.error("Error loading meal plans:",d)}finally{i(!1)}},[]);c.useEffect(()=>{t()},[t]);const o=c.useCallback((d,x,y,k=4,u)=>{const P=ws({date:x,mealType:y,recipe:d,servings:k,notes:u});return P?(t(),P):null},[t]),n=c.useCallback((d,x)=>{je(d,x),t()},[t]),l=c.useCallback(d=>{ks(d),t()},[t]),m=c.useCallback(d=>s.filter(x=>x.date===d),[s]),j=c.useCallback(d=>{const x=new Date(d);x.setDate(d.getDate()+6);const y=d.toISOString().split("T")[0],k=x.toISOString().split("T")[0];return Ss(y,k)},[]),g=c.useCallback((d,x,y)=>{je(d,{date:x,mealType:y}),t()},[t]);return{mealPlans:s,isLoading:r,addRecipeToMealPlan:o,updateMealPlanById:n,removeMealPlanById:l,getMealPlansForDate:m,getMealPlansForWeek:j,moveMealPlan:g,refreshMealPlans:t}},_s=({id:s,mealPlans:a,date:r,mealType:i,onRemoveMeal:t})=>{const{isOver:o,setNodeRef:n}=as({id:s});return e.jsx("div",{ref:n,className:`min-h-[120px] p-3 rounded-2xl border-2 border-dashed transition-all ${o?"border-primary bg-primary/10 scale-105":"border-gray-200 hover:border-gray-300"} ${a.length===0?"bg-gray-50/50":"bg-white"}`,children:e.jsx(A,{children:a.length===0?e.jsxs(p.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center justify-center h-full text-gray-400 min-h-[96px]",children:[e.jsx(We,{className:"w-6 h-6 mb-2"}),e.jsx("span",{className:"text-sm text-center",children:"Drop recipe here"})]}):e.jsx("div",{className:"space-y-2",children:a.map((l,m)=>e.jsxs(p.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{delay:m*.1},className:"group relative bg-white border border-gray-200 rounded-xl p-3 shadow-sm hover:shadow-md transition-all",children:[e.jsx("button",{onClick:()=>t(l.id),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600 z-10",children:e.jsx(L,{className:"w-3 h-3"})}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("img",{src:l.recipe.image,alt:l.recipe.title,className:"w-12 h-12 rounded-lg object-cover flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-semibold text-sm text-gray-800 line-clamp-2 leading-tight",children:l.recipe.title}),e.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(z,{className:"w-3 h-3"}),e.jsxs("span",{children:[l.recipe.readyInMinutes,"m"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Z,{className:"w-3 h-3"}),e.jsx("span",{children:l.servings})]})]}),l.notes&&e.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-1",children:l.notes})]})]})]},l.id))})})})},we=({recipe:s,isDragging:a=!1})=>{const{attributes:r,listeners:i,setNodeRef:t,transform:o,isDragging:n}=rs({id:s.id.toString()}),l=o?{transform:`translate3d(${o.x}px, ${o.y}px, 0)`}:void 0;return e.jsxs(p.div,{ref:t,style:l,...i,...r,initial:{opacity:0,scale:.9},animate:{opacity:n?.5:1,scale:n?1.05:1},whileHover:{scale:1.02},className:`group relative bg-white rounded-2xl overflow-hidden shadow-md border-2 cursor-grab active:cursor-grabbing transition-all ${a?"border-primary shadow-lg rotate-3":"border-transparent hover:border-primary/20 hover:shadow-lg"} ${n?"opacity-50":""}`,children:[e.jsx("div",{className:"absolute top-2 right-2 z-10 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-lg p-1",children:e.jsx(Je,{className:"w-4 h-4 text-gray-500"})})}),e.jsxs("div",{className:"relative h-24 bg-gradient-to-br from-gray-100 to-gray-200",children:[e.jsx("img",{src:s.image,alt:s.title,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"}),e.jsx("div",{className:"absolute bottom-2 left-2 right-2",children:e.jsxs("div",{className:"flex items-center justify-between text-white text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1 bg-black/40 backdrop-blur-sm rounded px-2 py-1",children:[e.jsx(z,{className:"w-3 h-3"}),e.jsxs("span",{children:[s.readyInMinutes,"m"]})]}),e.jsxs("div",{className:"flex items-center gap-1 bg-black/40 backdrop-blur-sm rounded px-2 py-1",children:[e.jsx(Z,{className:"w-3 h-3"}),e.jsx("span",{children:s.servings})]})]})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"font-semibold text-sm text-gray-800 line-clamp-2 leading-tight",children:s.title}),s.diets.length>0&&e.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:s.diets.slice(0,2).map((m,j)=>e.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:m},j))})]}),a&&e.jsx("div",{className:"absolute inset-0 bg-primary/10 backdrop-blur-sm flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-primary font-medium",children:[e.jsx("div",{className:"text-lg",children:"📅"}),e.jsx("div",{className:"text-xs",children:"Drop on calendar"})]})})]})},Gs=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],ke=["breakfast","lunch","dinner","snack"],Us=({recipes:s=[],onAddRecipe:a,onGenerateShoppingList:r,onViewNutrition:i})=>{const[t,o]=c.useState(new Date),[n,l]=c.useState(null),[m,j]=c.useState(null),{mealPlans:g,addRecipeToMealPlan:d,removeMealPlanById:x,moveMealPlan:y}=$e(),k=is(he(ms,{activationConstraint:{distance:8}}),he(ds,{coordinateGetter:cs})),u=c.useMemo(()=>xs(t,{weekStartsOn:1}),[t]),C=c.useMemo(()=>Array.from({length:7},(b,v)=>le(u,v)),[u]),P=c.useMemo(()=>{const b=D(u,"yyyy-MM-dd"),v=D(le(u,6),"yyyy-MM-dd");return g.filter(I=>I.date>=b&&I.date<=v)},[g,u]),_=(b,v)=>{const I=D(b,"yyyy-MM-dd");return P.filter(h=>h.date===I&&h.mealType===v)},F=b=>{const{active:v}=b;l(v.id);const I=s.find(h=>h.id.toString()===v.id);I&&j(I)},O=b=>{const{active:v,over:I}=b;if(!I){l(null),j(null);return}const h=v.id,N=I.id,[f,S]=N.split("-");if(!f||!ke.includes(S)){l(null),j(null);return}m?(d(m,f,S),a?.(m,f,S)):g.find(ie=>ie.id===h)&&y(h,f,S),l(null),j(null)},T=b=>{o(v=>b==="next"?ps(v,1):gs(v))},G=()=>{o(new Date)},w=()=>{r&&r(P)},$=()=>{i&&i(P)};return e.jsxs("div",{className:"w-full max-w-7xl mx-auto p-6 bg-white rounded-3xl shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(E,{className:"w-8 h-8 text-primary"}),e.jsx("h2",{className:"text-3xl font-bold gradient-text",children:"Meal Planning"})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-2xl p-1",children:[e.jsx("button",{onClick:()=>T("prev"),className:"p-2 rounded-xl hover:bg-white transition-colors",children:e.jsx(Ye,{className:"w-5 h-5"})}),e.jsxs("div",{className:"px-4 py-2 font-semibold min-w-[200px] text-center",children:[D(u,"MMM d")," - ",D(le(u,6),"MMM d, yyyy")]}),e.jsx("button",{onClick:()=>T("next"),className:"p-2 rounded-xl hover:bg-white transition-colors",children:e.jsx(qe,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:G,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors font-medium",children:"Today"}),e.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-xl transition-colors font-medium",children:[e.jsx(V,{className:"w-5 h-5"}),"Shopping List"]}),e.jsxs("button",{onClick:$,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-xl transition-colors font-medium",children:[e.jsx(Me,{className:"w-5 h-5"}),"Nutrition"]})]})]}),e.jsxs(ns,{sensors:k,collisionDetection:ls,onDragStart:F,onDragEnd:O,children:[e.jsxs("div",{className:"grid grid-cols-8 gap-4",children:[e.jsx("div",{className:""}),Gs.map((b,v)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-gray-600 mb-1",children:b}),e.jsx("div",{className:`text-2xl font-bold ${hs(C[v],new Date)?"text-primary":"text-gray-800"}`,children:D(C[v],"d")})]},b)),ke.map(b=>e.jsxs(Se.Fragment,{children:[e.jsx("div",{className:"flex items-center justify-center p-4 bg-gray-50 rounded-2xl",children:e.jsx("span",{className:"font-semibold text-gray-700 capitalize",children:b})}),C.map(v=>{const I=D(v,"yyyy-MM-dd"),h=_(v,b);return e.jsx(_s,{id:`${I}-${b}`,mealPlans:h,date:v,mealType:b,onRemoveMeal:x},`${I}-${b}`)})]},b))]}),e.jsx(os,{children:n&&m?e.jsx(we,{recipe:m,isDragging:!0}):null})]}),s.length>0&&e.jsxs("div",{className:"mt-8 border-t pt-8",children:[e.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-800",children:"Drag Recipes to Plan"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:s.slice(0,12).map(b=>e.jsx(we,{recipe:b},b.id))})]})]})},Ks=()=>{const[s,a]=c.useState([]),[r,i]=c.useState(!0),t=c.useCallback(()=>{i(!0);try{const g=K();a(g)}catch(g){console.error("Error loading shopping lists:",g)}finally{i(!1)}},[]);c.useEffect(()=>{t()},[t]);const o=c.useCallback((g,d)=>{const x=Cs(g,d);return x?(t(),x):null},[t]),n=c.useCallback((g,d)=>{Is(g,d),t()},[t]),l=c.useCallback((g,d)=>{Ms(g,d),t()},[t]),m=c.useCallback(g=>{try{const x=K().filter(y=>y.id!==g);localStorage.setItem("recipe-finder-shopping-lists",JSON.stringify(x)),t()}catch(d){console.error("Error deleting shopping list:",d)}},[t]),j=c.useCallback(g=>s.find(d=>d.id===g),[s]);return{shoppingLists:s,isLoading:r,generateShoppingListFromMealPlans:o,updateShoppingListById:n,toggleItemById:l,deleteShoppingList:m,getShoppingListById:j,refreshShoppingLists:t}},Ws=({isOpen:s,onClose:a,mealPlans:r,initialName:i="Weekly Meal Plan"})=>{const[t,o]=c.useState(i),[n,l]=c.useState(null),[m,j]=c.useState("aisle"),[g,d]=c.useState("all"),[x,y]=c.useState(!1),[k,u]=c.useState(null),[C,P]=c.useState(!1),{generateShoppingListFromMealPlans:_,toggleItemById:F}=Ks(),{optimizeShoppingList:O,isLoading:T}=Y(),G=async()=>{y(!0);try{const h=_(t,r);if(h){const N={id:h,name:t,dateCreated:new Date().toISOString(),items:[],totalItems:0,checkedItems:0};l(N)}}catch(h){console.error("Error generating shopping list:",h)}y(!1)},w=c.useMemo(()=>{if(!n)return{};let h=n.items;g==="checked"?h=h.filter(f=>f.checked):g==="unchecked"&&(h=h.filter(f=>!f.checked));const N={};return h.forEach(f=>{let S="";switch(m){case"aisle":S=f.aisle||"Other";break;case"recipe":S=f.recipes[0]||"Other";break;case"alphabetical":S=f.ingredient.charAt(0).toUpperCase();break}N[S]||(N[S]=[]),N[S].push(f)}),Object.keys(N).forEach(f=>{N[f].sort((S,M)=>S.ingredient.localeCompare(M.ingredient))}),N},[n,m,g]),$=h=>{n&&(F(n.id,h),l(N=>{if(!N)return N;const f=N.items.map(M=>M.id===h?{...M,checked:!M.checked}:M),S=f.filter(M=>M.checked).length;return{...N,items:f,checkedItems:S}}))},b=()=>{if(!n)return;const h=Object.entries(w).map(([M,ie])=>{const De=ie.map(q=>`${q.checked?"✓":"○"} ${q.amount} ${q.unit} ${q.ingredient}`).join(`
`);return`${M.toUpperCase()}
${De}`}).join(`

`),N=new Blob([h],{type:"text/plain"}),f=URL.createObjectURL(N),S=document.createElement("a");S.href=f,S.download=`${n.name}.txt`,S.click(),URL.revokeObjectURL(f)},v=async()=>{if(!n)return;const h=Object.entries(w).map(([N,f])=>{const S=f.map(M=>`• ${M.amount} ${M.unit} ${M.ingredient}`).join(`
`);return`${N}
${S}`}).join(`

`);if(navigator.share)try{await navigator.share({title:n.name,text:h})}catch(N){console.error("Error sharing:",N)}else navigator.clipboard.writeText(h)},I=async()=>{if(!n)return;const h=n.items.map(f=>`${f.amount} ${f.unit} ${f.ingredient}`),N=await O(h,{budget:"medium",storeType:"grocery store"});u(N),P(!0)};return s?e.jsxs(A,{children:[e.jsx(p.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:a,children:e.jsxs(p.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-3xl max-w-2xl w-full max-h-[90vh] overflow-hidden",onClick:h=>h.stopPropagation(),children:[e.jsxs("div",{className:"p-6 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(V,{className:"w-8 h-8 text-primary"}),e.jsx("h2",{className:"text-2xl font-bold gradient-text",children:"Shopping List"})]}),e.jsx("button",{onClick:a,className:"p-2 rounded-full hover:bg-gray-100 transition-colors",children:e.jsx(L,{className:"w-6 h-6"})})]}),n?e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:n.name}),e.jsxs("p",{className:"text-gray-500 text-sm",children:[n.checkedItems," of ",n.totalItems," items completed"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:I,disabled:T,className:"p-2 rounded-xl bg-purple-100 text-purple-600 hover:bg-purple-200 transition-colors disabled:opacity-50",title:"AI Optimize List",children:T?e.jsx(B,{className:"w-5 h-5 animate-spin"}):e.jsx(R,{className:"w-5 h-5"})}),e.jsx("button",{onClick:b,className:"p-2 rounded-xl bg-blue-100 text-blue-600 hover:bg-blue-200 transition-colors",title:"Export List",children:e.jsx(Pe,{className:"w-5 h-5"})}),e.jsx("button",{onClick:v,className:"p-2 rounded-xl bg-green-100 text-green-600 hover:bg-green-200 transition-colors",title:"Share List",children:e.jsx(He,{className:"w-5 h-5"})})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",value:t,onChange:h=>o(h.target.value),placeholder:"Enter list name...",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none"}),e.jsx("button",{onClick:G,disabled:x,className:"w-full py-3 bg-gradient-to-r from-primary to-purple-600 text-white rounded-xl hover:shadow-lg transition-all font-medium disabled:opacity-50",children:x?"Generating...":"Generate Shopping List"})]})]}),n&&e.jsx("div",{className:"px-6 py-4 border-b border-gray-100 bg-gray-50",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Sort by:"}),e.jsxs("select",{value:m,onChange:h=>j(h.target.value),className:"px-3 py-1 text-sm border border-gray-200 rounded-lg focus:border-primary focus:outline-none",children:[e.jsx("option",{value:"aisle",children:"Aisle"}),e.jsx("option",{value:"recipe",children:"Recipe"}),e.jsx("option",{value:"alphabetical",children:"A-Z"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter:"}),e.jsxs("select",{value:g,onChange:h=>d(h.target.value),className:"px-3 py-1 text-sm border border-gray-200 rounded-lg focus:border-primary focus:outline-none",children:[e.jsx("option",{value:"all",children:"All Items"}),e.jsx("option",{value:"unchecked",children:"To Buy"}),e.jsx("option",{value:"checked",children:"Completed"})]})]})]})}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:n?e.jsx("div",{className:"space-y-6",children:Object.entries(w).map(([h,N])=>e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-3 pb-2 border-b border-gray-200",children:h}),e.jsx("div",{className:"space-y-2",children:N.map(f=>e.jsxs(p.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:`flex items-center gap-3 p-3 rounded-xl border transition-all ${f.checked?"bg-green-50 border-green-200":"bg-white border-gray-200 hover:border-gray-300"}`,children:[e.jsx("button",{onClick:()=>$(f.id),className:`flex-shrink-0 w-6 h-6 rounded-full border-2 transition-all ${f.checked?"bg-green-500 border-green-500 text-white":"border-gray-300 hover:border-primary"}`,children:f.checked?e.jsx(Ve,{className:"w-4 h-4"}):null}),e.jsxs("div",{className:`flex-1 ${f.checked?"line-through text-gray-500":""}`,children:[e.jsxs("div",{className:"font-medium",children:[f.amount," ",f.unit," ",f.ingredient]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Used in: ",f.recipes.join(", ")]})]})]},f.id))})]},h))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(V,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:"Generate your shopping list to get started"}),e.jsx("p",{className:"text-gray-400",children:"We'll organize ingredients from your meal plans"})]})})]})}),e.jsx(A,{children:C&&k&&e.jsx(p.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-60 flex items-center justify-center p-4",onClick:()=>P(!1),children:e.jsxs(p.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-3xl max-w-lg w-full max-h-[80vh] overflow-hidden",onClick:h=>h.stopPropagation(),children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(R,{className:"w-6 h-6"}),e.jsx("h3",{className:"text-xl font-bold",children:"AI Optimized Shopping List"})]}),e.jsx("button",{onClick:()=>P(!1),className:"p-2 bg-white/20 hover:bg-white/30 rounded-full transition-colors",children:e.jsx(L,{className:"w-5 h-5"})})]})}),e.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh] space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-800 mb-3",children:"Optimized Shopping Route:"}),e.jsx("div",{className:"bg-gray-50 rounded-xl p-4",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-700 text-sm",children:k.optimizedList})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-800 mb-3",children:"💡 AI Shopping Tips:"}),e.jsx("div",{className:"space-y-2",children:k.tips.map((h,N)=>e.jsxs("div",{className:"flex items-start gap-2 p-3 bg-purple-50 rounded-lg",children:[e.jsx(R,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700 text-sm",children:h})]},N))})]})]})]})})})]}):null},Js=({isOpen:s,onClose:a,mealPlans:r})=>{const i=[{name:"Protein",value:25,color:"#8B5CF6"},{name:"Carbs",value:50,color:"#06B6D4"},{name:"Fat",value:25,color:"#F59E0B"}],t=[{day:"Mon",calories:2100,target:2e3},{day:"Tue",calories:1950,target:2e3},{day:"Wed",calories:2200,target:2e3},{day:"Thu",calories:1800,target:2e3},{day:"Fri",calories:2300,target:2e3},{day:"Sat",calories:2400,target:2e3},{day:"Sun",calories:1900,target:2e3}],o=[{name:"Vitamin C",current:85,target:100,unit:"mg"},{name:"Iron",current:12,target:15,unit:"mg"},{name:"Calcium",current:950,target:1e3,unit:"mg"},{name:"Fiber",current:28,target:35,unit:"g"}];return s?e.jsx(A,{children:e.jsx(p.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:a,children:e.jsxs(p.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-3xl max-w-6xl w-full max-h-[90vh] overflow-hidden",onClick:n=>n.stopPropagation(),children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ne,{className:"w-8 h-8"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Nutrition Dashboard"}),e.jsx("p",{className:"text-white/80",children:"Track your nutritional goals and progress"})]})]}),e.jsx("button",{onClick:a,className:"p-2 bg-white/20 hover:bg-white/30 rounded-full transition-colors",children:e.jsx(L,{className:"w-6 h-6"})})]})}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-8rem)]",children:r.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ne,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Meal Plans Yet"}),e.jsx("p",{className:"text-gray-600",children:"Create some meal plans to see your nutrition analytics"})]}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-2xl p-6 border border-blue-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(E,{className:"w-6 h-6 text-blue-600"}),e.jsx("span",{className:"font-semibold text-gray-800",children:"Daily Average"})]}),e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:"2,050"}),e.jsx("div",{className:"text-sm text-gray-600",children:"calories"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl p-6 border border-green-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Qe,{className:"w-6 h-6 text-green-600"}),e.jsx("span",{className:"font-semibold text-gray-800",children:"Goal Progress"})]}),e.jsx("div",{className:"text-3xl font-bold text-green-600",children:"85%"}),e.jsx("div",{className:"text-sm text-gray-600",children:"on track"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-violet-50 rounded-2xl p-6 border border-purple-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Xe,{className:"w-6 h-6 text-purple-600"}),e.jsx("span",{className:"font-semibold text-gray-800",children:"Protein Goal"})]}),e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:"125g"}),e.jsx("div",{className:"text-sm text-gray-600",children:"daily average"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 rounded-2xl p-6 border border-orange-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(ne,{className:"w-6 h-6 text-orange-600"}),e.jsx("span",{className:"font-semibold text-gray-800",children:"Weekly Trend"})]}),e.jsx("div",{className:"text-3xl font-bold text-orange-600",children:"↗ 5%"}),e.jsx("div",{className:"text-sm text-gray-600",children:"improvement"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Macronutrient Breakdown"}),e.jsx("div",{className:"h-64",children:e.jsx(oe,{width:"100%",height:"100%",children:e.jsxs(us,{children:[e.jsx(ys,{data:i,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:n,value:l})=>`${n}: ${l}%`,children:i.map((n,l)=>e.jsx(fs,{fill:n.color},`cell-${l}`))}),e.jsx(ce,{})]})})})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Weekly Calorie Intake"}),e.jsx("div",{className:"h-64",children:e.jsx(oe,{width:"100%",height:"100%",children:e.jsxs(bs,{data:t,children:[e.jsx(pe,{strokeDasharray:"3 3"}),e.jsx(ge,{dataKey:"day"}),e.jsx(ue,{}),e.jsx(ce,{}),e.jsx(ye,{dataKey:"calories",fill:"#8B5CF6"}),e.jsx(ye,{dataKey:"target",fill:"#E5E7EB"})]})})})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-6",children:"Nutrient Goals Progress"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.map((n,l)=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-gray-800",children:n.name}),e.jsxs("span",{className:"text-sm text-gray-600",children:[n.current,n.unit," / ",n.target,n.unit]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx(p.div,{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full",initial:{width:0},animate:{width:`${n.current/n.target*100}%`},transition:{duration:1,delay:l*.1}})}),e.jsxs("div",{className:"text-sm text-gray-600",children:[Math.round(n.current/n.target*100),"% of daily goal"]})]},l))})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Calorie Trend"}),e.jsx("div",{className:"h-64",children:e.jsx(oe,{width:"100%",height:"100%",children:e.jsxs(js,{data:t,children:[e.jsx(pe,{strokeDasharray:"3 3"}),e.jsx(ge,{dataKey:"day"}),e.jsx(ue,{}),e.jsx(ce,{}),e.jsx(fe,{type:"monotone",dataKey:"calories",stroke:"#8B5CF6",strokeWidth:3,dot:{fill:"#8B5CF6",strokeWidth:2,r:4}}),e.jsx(fe,{type:"monotone",dataKey:"target",stroke:"#E5E7EB",strokeDasharray:"5 5",dot:!1})]})})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-2xl p-6 border border-green-200",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"💡 Nutrition Tips"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 flex-shrink-0"}),e.jsx("p",{className:"text-gray-700 text-sm",children:"Try to include a variety of colorful vegetables in your meals for diverse nutrients."})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),e.jsx("p",{className:"text-gray-700 text-sm",children:"Aim for 25-30g of fiber daily to support digestive health."})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2 flex-shrink-0"}),e.jsx("p",{className:"text-gray-700 text-sm",children:"Include lean protein sources in each meal to maintain muscle mass."})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-2 flex-shrink-0"}),e.jsx("p",{className:"text-gray-700 text-sm",children:"Stay hydrated with 8-10 glasses of water daily."})]})]})]})]})})]})})}):null},Ys=({onRecipeSelect:s})=>{const{aiRecommendations:a,isLoading:r,getRecommendations:i,preferences:t}=Y(),[o,n]=c.useState(!1),[l,m]=c.useState(!1),j=async()=>{await i(3),m(!0)},g=d=>{switch(d){case"easy":return"text-green-600 bg-green-100";case"medium":return"text-yellow-600 bg-yellow-100";case"hard":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};return e.jsxs("div",{className:"bg-white rounded-3xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-white/20 rounded-xl",children:e.jsx(R,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"AI Recipe Recommendations"}),e.jsx("p",{className:"text-white/80 text-sm",children:"Personalized just for you"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>n(!0),className:"p-2 bg-white/20 hover:bg-white/30 rounded-xl transition-colors",title:"Customize Preferences",children:e.jsx(Ze,{className:"w-5 h-5"})}),e.jsxs("button",{onClick:j,disabled:r,className:"flex items-center gap-2 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-xl transition-colors disabled:opacity-50",children:[r?e.jsx(B,{className:"w-4 h-4 animate-spin"}):e.jsx(Q,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:l?"Refresh":"Get Recommendations"})]})]})]})}),e.jsxs("div",{className:"p-6",children:[!l&&!r&&e.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[e.jsx(R,{className:"w-16 h-16 text-purple-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Ready for AI Magic?"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Get personalized recipe recommendations based on your preferences and dietary needs."}),e.jsxs("button",{onClick:j,className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl hover:shadow-lg transition-all font-medium",children:[e.jsx(R,{className:"w-5 h-5 inline mr-2"}),"Generate AI Recommendations"]})]}),r&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(B,{className:"w-12 h-12 text-purple-500 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"AI is analyzing your preferences..."})]}),l&&!r&&a.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ee,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No recommendations available. Try adjusting your preferences."})]}),e.jsx(A,{children:a.length>0&&e.jsx(p.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((d,x)=>e.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:x*.1},className:"border border-gray-200 rounded-2xl p-4 hover:shadow-md transition-all cursor-pointer hover:border-purple-300",onClick:()=>s?.(d),children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("h3",{className:"font-bold text-gray-800 flex-1 pr-2",children:d.title}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${g(d.difficulty)}`,children:d.difficulty})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:d.description}),e.jsxs("div",{className:"flex items-center gap-4 mb-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(z,{className:"w-4 h-4"}),e.jsxs("span",{children:[d.cookingTime,"m"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(es,{className:"w-4 h-4"}),e.jsx("span",{children:d.cuisine})]})]}),d.dietaryTags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:d.dietaryTags.slice(0,3).map((y,k)=>e.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full",children:y},k))}),e.jsxs("div",{className:"border-t pt-3",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Ingredients needed:"}),e.jsxs("p",{className:"text-sm text-gray-700 line-clamp-2",children:[d.ingredients.slice(0,4).join(", "),d.ingredients.length>4&&"..."]})]})]},x))})}),l&&e.jsxs(p.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-6 p-4 bg-gray-50 rounded-xl",children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Your Current Preferences:"}),e.jsxs("div",{className:"flex flex-wrap gap-2 text-sm",children:[t.dietaryRestrictions.length>0&&e.jsxs("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded-full",children:["🥗 ",t.dietaryRestrictions.join(", ")]}),t.preferredCuisines.length>0&&e.jsxs("span",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:["🌍 ",t.preferredCuisines.slice(0,2).join(", ")]}),e.jsxs("span",{className:"bg-purple-100 text-purple-700 px-2 py-1 rounded-full",children:["⏱️ ",t.timeAvailable,"min max"]}),e.jsxs("span",{className:"bg-orange-100 text-orange-700 px-2 py-1 rounded-full",children:["👨‍🍳 ",t.cookingSkillLevel]})]})]})]}),e.jsx(qs,{isOpen:o,onClose:()=>n(!1)})]})},qs=({isOpen:s,onClose:a})=>{const{preferences:r,updatePreferences:i}=Y();return s?e.jsx(A,{children:e.jsx(p.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:a,children:e.jsxs(p.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-3xl max-w-md w-full max-h-[80vh] overflow-hidden",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold gradient-text",children:"AI Preferences"}),e.jsx("button",{onClick:a,className:"p-2 rounded-full hover:bg-gray-100 transition-colors",children:e.jsx(L,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh] space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cooking Skill Level"}),e.jsxs("select",{value:r.cookingSkillLevel,onChange:t=>i({cookingSkillLevel:t.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl focus:border-purple-500 focus:ring-2 focus:ring-purple-200 focus:outline-none",children:[e.jsx("option",{value:"beginner",children:"Beginner"}),e.jsx("option",{value:"intermediate",children:"Intermediate"}),e.jsx("option",{value:"advanced",children:"Advanced"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum Cooking Time (minutes)"}),e.jsx("input",{type:"number",min:"10",max:"180",value:r.timeAvailable,onChange:t=>i({timeAvailable:parseInt(t.target.value)}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl focus:border-purple-500 focus:ring-2 focus:ring-purple-200 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dietary Restrictions (comma-separated)"}),e.jsx("input",{type:"text",value:r.dietaryRestrictions.join(", "),onChange:t=>i({dietaryRestrictions:t.target.value.split(",").map(o=>o.trim()).filter(Boolean)}),placeholder:"e.g., vegetarian, gluten-free, keto",className:"w-full px-3 py-2 border border-gray-200 rounded-xl focus:border-purple-500 focus:ring-2 focus:ring-purple-200 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Cuisines (comma-separated)"}),e.jsx("input",{type:"text",value:r.preferredCuisines.join(", "),onChange:t=>i({preferredCuisines:t.target.value.split(",").map(o=>o.trim()).filter(Boolean)}),placeholder:"e.g., Italian, Mexican, Asian",className:"w-full px-3 py-2 border border-gray-200 rounded-xl focus:border-purple-500 focus:ring-2 focus:ring-purple-200 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Favorite Ingredients (comma-separated)"}),e.jsx("input",{type:"text",value:r.favoriteIngredients.join(", "),onChange:t=>i({favoriteIngredients:t.target.value.split(",").map(o=>o.trim()).filter(Boolean)}),placeholder:"e.g., chicken, tomatoes, garlic",className:"w-full px-3 py-2 border border-gray-200 rounded-xl focus:border-purple-500 focus:ring-2 focus:ring-purple-200 focus:outline-none"})]})]}),e.jsx("div",{className:"p-6 border-t border-gray-100",children:e.jsx("button",{onClick:a,className:"w-full py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl hover:shadow-lg transition-all font-medium",children:"Save Preferences"})})]})})}):null},Hs=()=>{const{getMealPlan:s,preferences:a,isLoading:r}=Y(),[i,t]=c.useState(null),[o,n]=c.useState(7),l=async()=>{const j=await s(o);t(j)},m=()=>{if(!i)return;const j=`${o}-Day AI Meal Plan

${i.mealPlan}

Why This Plan Works:
${i.explanation}`,g=new Blob([j],{type:"text/plain"}),d=URL.createObjectURL(g),x=document.createElement("a");x.href=d,x.download=`ai-meal-plan-${o}-days.txt`,x.click(),URL.revokeObjectURL(d)};return e.jsxs("div",{className:"bg-white rounded-3xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 text-white p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-white/20 rounded-xl",children:e.jsx(E,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"AI Meal Planner"}),e.jsx("p",{className:"text-white/80 text-sm",children:"Smart nutrition planning made easy"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("select",{value:o,onChange:j=>n(parseInt(j.target.value)),className:"px-3 py-2 bg-white/20 text-white rounded-xl border border-white/30 focus:outline-none",children:[e.jsx("option",{value:3,className:"text-gray-800",children:"3 Days"}),e.jsx("option",{value:7,className:"text-gray-800",children:"7 Days"}),e.jsx("option",{value:14,className:"text-gray-800",children:"14 Days"})]}),e.jsxs("button",{onClick:l,disabled:r,className:"flex items-center gap-2 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-xl transition-colors disabled:opacity-50",children:[r?e.jsx(B,{className:"w-4 h-4 animate-spin"}):e.jsx(Q,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Generate Plan"})]})]})]})}),e.jsxs("div",{className:"p-6",children:[!i&&!r&&e.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[e.jsx(E,{className:"w-16 h-16 text-green-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Ready to Plan Your Meals?"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["Let AI create a personalized ",o,"-day meal plan based on your preferences and nutritional needs."]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6 max-w-md mx-auto",children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Planning with your preferences:"}),e.jsxs("div",{className:"flex flex-wrap gap-2 text-sm justify-center",children:[e.jsxs("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded-full",children:["👨‍🍳 ",a.cookingSkillLevel]}),e.jsxs("span",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:["⏱️ ",a.timeAvailable,"min max"]}),a.dietaryRestrictions.length>0&&e.jsxs("span",{className:"bg-purple-100 text-purple-700 px-2 py-1 rounded-full",children:["🥗 ",a.dietaryRestrictions[0],a.dietaryRestrictions.length>1&&" +more"]})]})]}),e.jsxs("button",{onClick:l,className:"px-6 py-3 bg-gradient-to-r from-green-500 to-blue-500 text-white rounded-xl hover:shadow-lg transition-all font-medium",children:[e.jsx(R,{className:"w-5 h-5 inline mr-2"}),"Generate ",o,"-Day AI Meal Plan"]})]}),r&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(B,{className:"w-12 h-12 text-green-500 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"AI is crafting your personalized meal plan..."}),e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"This may take a moment"})]}),e.jsx(A,{children:i&&!r&&e.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"w-5 h-5 text-green-500"}),e.jsxs("span",{className:"font-medium text-gray-800",children:["Your ",o,"-Day Meal Plan is Ready!"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm",children:[e.jsx(Pe,{className:"w-4 h-4"}),"Export"]}),e.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-3 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors text-sm",children:[e.jsx(Q,{className:"w-4 h-4"}),"Regenerate"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(E,{className:"w-5 h-5 text-green-500"}),"Your Meal Plan"]}),e.jsx("div",{className:"bg-gray-50 rounded-xl p-6",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-700 font-medium leading-relaxed",children:i.mealPlan})})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(ss,{className:"w-5 h-5 text-blue-500"}),"Why This Plan Works"]}),e.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 space-y-4",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed",children:i.explanation}),e.jsxs("div",{className:"border-t border-blue-200 pt-4",children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Quick Tips:"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"• Prep ingredients on Sunday for the week"}),e.jsx("li",{children:"• Cook grains and proteins in batches"}),e.jsx("li",{children:"• Keep healthy snacks readily available"}),e.jsx("li",{children:"• Stay hydrated throughout the day"})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-8",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 text-center",children:[e.jsx(z,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),e.jsx("h4",{className:"font-semibold text-gray-800",children:"Time Efficient"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Meals designed for ",a.timeAvailable,"min cooking time"]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 text-center",children:[e.jsx(xe,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),e.jsx("h4",{className:"font-semibold text-gray-800",children:"Nutritionally Balanced"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Optimized for your dietary preferences"})]}),e.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-4 text-center",children:[e.jsx(R,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),e.jsx("h4",{className:"font-semibold text-gray-800",children:"AI Personalized"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Tailored to your cooking skill level"})]})]})]})})]})]})},Vs=()=>{const[s,a]=c.useState({query:""}),[r,i]=c.useState(null),[t,o]=c.useState(!1),[n,l]=c.useState("search"),[m,j]=c.useState([]),[g,d]=c.useState(!1),[x,y]=c.useState(!1),{mealPlans:k}=$e(),u=w=>{a(w)},C=w=>{i(w)},P=()=>{i(null)},_=(w,$,b)=>{console.log("Added recipe to meal plan:",{recipe:w.title,date:$,mealType:b})},F=w=>{d(!0)},O=w=>{y(!0)},T=w=>{j(w)},G=w=>{const $={id:Date.now(),title:w.title,image:"https://via.placeholder.com/312x231/8B5CF6/FFFFFF?text=AI+Recipe",imageType:"jpg",readyInMinutes:w.cookingTime,servings:4,spoonacularScore:85,healthScore:75,pricePerServing:250,cuisines:[w.cuisine],dishTypes:[],diets:w.dietaryTags,occasions:[],analyzedInstructions:[{name:"",steps:w.instructions.map((b,v)=>({number:v+1,step:b,ingredients:[],equipment:[]}))}],extendedIngredients:w.ingredients.map((b,v)=>({id:v+1,aisle:"",image:"",consistency:"",name:b,nameClean:b,original:b,originalName:b,amount:1,unit:"",meta:[],measures:{us:{amount:1,unitShort:"",unitLong:""},metric:{amount:1,unitShort:"",unitLong:""}}})),summary:w.description,instructions:w.instructions.map((b,v)=>`${v+1}. ${b}`).join(`
`)};i($)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 relative overflow-hidden",children:[e.jsx(Bs,{}),e.jsxs("div",{className:"relative z-10",children:[e.jsx(zs,{}),e.jsxs("main",{className:"container mx-auto px-4 py-8",children:[e.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-12",children:[e.jsx("h1",{className:"text-5xl font-bold gradient-text mb-4",children:"AI Recipe Finder & Meal Planner"}),e.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Discover delicious recipes, plan your meals, and track your nutrition all in one place"})]}),e.jsx(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"max-w-4xl mx-auto mb-8",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 p-2 bg-white/80 backdrop-blur-md rounded-2xl border border-white/20 shadow-lg flex-wrap",children:[e.jsx("button",{onClick:()=>l("search"),className:`flex items-center gap-2 px-4 py-3 rounded-xl font-medium transition-all ${n==="search"?"bg-primary text-white shadow-md":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:"🔍 Search Recipes"}),e.jsxs("button",{onClick:()=>l("ai-recommendations"),className:`flex items-center gap-2 px-4 py-3 rounded-xl font-medium transition-all ${n==="ai-recommendations"?"bg-purple-500 text-white shadow-md":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:[e.jsx(R,{className:"w-4 h-4"}),"AI Recommendations"]}),e.jsxs("button",{onClick:()=>l("ai-meal-planner"),className:`flex items-center gap-2 px-4 py-3 rounded-xl font-medium transition-all ${n==="ai-meal-planner"?"bg-green-500 text-white shadow-md":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:[e.jsx(E,{className:"w-4 h-4"}),"AI Meal Planner"]}),e.jsxs("button",{onClick:()=>l("planning"),className:`flex items-center gap-2 px-4 py-3 rounded-xl font-medium transition-all ${n==="planning"?"bg-primary text-white shadow-md":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:[e.jsx(E,{className:"w-4 h-4"}),"Meal Planning"]})]})}),e.jsxs(p.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5},children:[n==="search"&&e.jsxs(e.Fragment,{children:[e.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"max-w-4xl mx-auto mb-8",children:[e.jsx(vs,{onSearch:u,onToggleFilters:()=>o(!t),showFilters:t}),e.jsx(Ns,{isOpen:t,filters:s,onFiltersChange:a})]}),e.jsx(p.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.4},children:e.jsx(Ls,{filters:s,onRecipeSelect:C,onRecipeResults:T})})]}),n==="planning"&&e.jsx(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsx(Us,{recipes:m,onAddRecipe:_,onGenerateShoppingList:F,onViewNutrition:O})}),n==="ai-recommendations"&&e.jsx(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsx(Ys,{onRecipeSelect:G})}),n==="ai-meal-planner"&&e.jsx(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsx(Hs,{})})]},n),n==="search"&&m.length>0&&e.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"fixed bottom-8 right-8 flex flex-col gap-3",children:[e.jsxs("button",{onClick:()=>l("planning"),className:"flex items-center gap-2 px-4 py-3 bg-primary text-white rounded-full shadow-lg hover:shadow-xl transition-all hover:scale-105",title:"Go to Meal Planning",children:[e.jsx(E,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Plan Meals"})]}),k.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>F(),className:"flex items-center gap-2 px-4 py-3 bg-green-500 text-white rounded-full shadow-lg hover:shadow-xl transition-all hover:scale-105",title:"Generate Shopping List",children:[e.jsx(V,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Shopping"})]}),e.jsxs("button",{onClick:()=>O(),className:"flex items-center gap-2 px-4 py-3 bg-blue-500 text-white rounded-full shadow-lg hover:shadow-xl transition-all hover:scale-105",title:"View Nutrition Dashboard",children:[e.jsx(Me,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Nutrition"})]})]})]})]}),r&&e.jsx(Os,{recipe:r,onClose:P}),e.jsx(Ws,{isOpen:g,onClose:()=>d(!1),mealPlans:k}),e.jsx(Js,{isOpen:x,onClose:()=>y(!1),mealPlans:k})]})]})};class Qs extends c.Component{state={hasError:!1};static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,r){console.error("Uncaught error:",a,r)}handleReset=()=>{this.setState({hasError:!1,error:void 0})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-xl p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ts,{className:"w-8 h-8 text-red-600"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Oops! Something went wrong"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"We encountered an unexpected error. Don't worry, your data is safe."}),!1,e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:this.handleReset,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl hover:shadow-lg transition-all font-medium",children:[e.jsx(Q,{className:"w-5 h-5"}),"Try Again"]}),e.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-6 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-colors font-medium",children:"Reload Page"})]})]})}):this.props.children}}const Xs=new Be({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3,retry:2,refetchOnWindowFocus:!1}}});de.createRoot(document.getElementById("root")).render(e.jsx(Se.StrictMode,{children:e.jsx(Qs,{children:e.jsx(ze,{client:Xs,children:e.jsx(Vs,{})})})}));
